<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script>
	$(document).ready(function(){
	var container = document.createElement("div");
	container.id = "container";

	var rioBtn = document.createElement("button");
	rioBtn.id = "rio";
	var rioText = document.createTextNode("RIO");
	rioBtn.appendChild(rioText);
	container.appendChild(rioBtn);

	var itatiaiaBtn = document.createElement("button");
	itatiaiaBtn.id = "porto";
	var itatiaiaText = document.createTextNode("ITATIAIA");
	itatiaiaBtn.appendChild(itatiaiaText);
	itatiaiaBtn.style.marginLeft = "10px";
	container.appendChild(itatiaiaBtn);

	var floripaBtn = document.createElement("button");
	floripaBtn.id = "floripa";
	var floripaText = document.createTextNode("FLORIPA");
	floripaBtn.appendChild(floripaText);
	floripaBtn.style.marginLeft = "10px";
	container.appendChild(floripaBtn);

	var olindaBtn = document.createElement("button");
	olindaBtn.id = "olinda";
	var olindaText = document.createTextNode("OLINDA");
	olindaBtn.appendChild(olindaText);
	olindaBtn.style.marginLeft = "10px";
	container.appendChild(olindaBtn);

	var angraBtn = document.createElement("button");
	angraBtn.id = "angra";
	var angraText = document.createTextNode("ANGRA");
	angraBtn.appendChild(angraText);
	angraBtn.style.marginLeft = "10px";
	container.appendChild(angraBtn);

	var resultsContainer = document.createElement("div");
	resultsContainer.id = "resultsContainer";
	container.appendChild(resultsContainer);

		$("body").on('click', 'button', function(){
			resultsContainer.innerHTML = " ";
			var weatherResults = document.createElement("div");
			weatherResults.id = $(this).text();
			weatherResults.id += "weatherResults";

			var ID;
			
			if(weatherResults.id === "RIOweatherResults"){
				ID = 3451190;
			} else if(weatherResults.id === "FLORIPAweatherResults"){
				ID = 3463237;
			} else if(weatherResults.id === "ITATIAIAweatherResults"){
				ID = 3460602;
			} else if(weatherResults.id === "OLINDAweatherResults"){
				ID = 3393536;
			} else if(weatherResults.id === "ANGRAweatherResults"){
				ID = 3472177;
			}


			var weatherAPI = "http://api.openweathermap.org/data/2.5/forecast/city?id=" + ID + "&APPID=46d774bbb6d6ee189b2dafcf2da2ed6c";
			
			var weatherOptions = { units : "metric" };
			
			function displayWeather(data){
			weatherResults.innerHTML = "<h2>" + data.city.name + "</h2>";
			weatherResults.innerHTML += "<ul>";
			weatherResults.innerHTML += "<li>" + data.city.country + "</l1>";
			weatherResults.innerHTML += "<li>" + data.temperature.value + "</l1>";
			weatherResults.innerHTML += "</ul>";
			}	

			$.getJSON(weatherAPI, weatherOptions, displayWeather);	
			
			resultsContainer.appendChild(weatherResults);
		});

	
	
		$("body").on('click', 'button', function(){
			var results = document.createElement("div");
			results.id = $(this).text();
			results.id += "status";

			var flickrAPI = "http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?";
			var beach = $(this).text();
			var flickrOptions = {
			tags: beach,
			format: "json"
			};
			function displayPics(data){
			var resultsHTML = "<ul>";
			$.each(data.items, function(i, pic) {
				resultsHTML += "<li>";
				resultsHTML += '<a href="' + pic.link + ' " class="image">';
				resultsHTML += '<img src="' + pic.media.m + ' "></a></li>';
			});
			resultsHTML += "</ul>";
			results.innerHTML = resultsHTML;
		}
			$.getJSON(flickrAPI, flickrOptions, displayPics);
			//results.innerHTML = $(this).text();
			resultsContainer.appendChild(results);	
		});
	
	document.body.appendChild(container);		
	});

</script>

